{"is_source_file": true, "format": "TypeScript", "description": "This file defines a service function for searching products within a specific branch. It interacts with a database via a Supabase client, performs a query to fetch product details including category information, and returns formatted results based on the query outcome.", "external_files": ["@/lib/supabase/server", "@/types"], "external_methods": ["createServerClient"], "published": ["searchProducts"], "classes": [], "methods": [{"name": "export async function searchProducts(branchId: string): Promise<{ data?: ProductSearchResult[]; / searchProducts", "description": "Asynchronously searches for products associated with a given branch ID, retrieves product details along with their categories from the database, handles errors, and returns the data in a structured format.", "scope": "", "scopeKind": ""}], "calls": ["createServerClient", "supabase.from", "supabase.select", "supabase.eq", "supabase.order", "console.error"], "search-terms": ["searchProducts", "productService", "Supabase", "product_categories", "branchId", "ProductSearchResult"], "state": 2, "file_id": 56, "knowledge_revision": 215, "git_revision": "407fc76aca9d4e2629877b12781490020c6f85a2", "ctags": [{"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/kirana-fintech/src/lib/services/productService.ts", "pattern": "/^        const { data, error } = await supabase$/", "language": "TypeScript", "kind": "constant", "scope": "searchProducts", "scopeKind": "function"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/kirana-fintech/src/lib/services/productService.ts", "pattern": "/^        const { data, error } = await supabase$/", "language": "TypeScript", "kind": "constant", "scope": "searchProducts", "scopeKind": "function"}, {"_type": "tag", "name": "products", "path": "/home/kavia/workspace/code-generation/kirana-fintech/src/lib/services/productService.ts", "pattern": "/^        const products: ProductSearchResult[] = data.map((item: any) => ({$/", "language": "TypeScript", "kind": "constant", "scope": "searchProducts", "scopeKind": "function"}, {"_type": "tag", "name": "searchProducts", "path": "/home/kavia/workspace/code-generation/kirana-fintech/src/lib/services/productService.ts", "pattern": "/^export async function searchProducts(branchId: string): Promise<{ data?: ProductSearchResult[]; /", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "supabase", "path": "/home/kavia/workspace/code-generation/kirana-fintech/src/lib/services/productService.ts", "pattern": "/^    const supabase = await createServerClient();$/", "language": "TypeScript", "kind": "constant", "scope": "searchProducts", "scopeKind": "function"}], "hash": "9f9081bde070f24723ff278eec9a4487", "format-version": 4, "code-base-name": "kirana-fintech", "filename": "src/lib/services/productService.ts", "revision_history": [{"215": "407fc76aca9d4e2629877b12781490020c6f85a2"}]}