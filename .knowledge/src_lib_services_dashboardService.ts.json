{"is_source_file": true, "format": "TypeScript", "description": "This is a service module for the dashboard, providing functions to retrieve dashboard statistics and cash flow data. It interfaces with a database via Supabase, fetching transaction data and generating mock data for unauthenticated users.", "external_files": ["@/lib/supabase/server", "@/types"], "external_methods": ["createServerClient()", "supabase.auth.getUser()", "supabase.from()"], "published": ["getDashboardStats", "getCashFlowData"], "classes": [], "methods": [{"name": "export async function getDashboardStats() { getDashboardStats", "description": "Fetches and calculates dashboard statistics such as cash balance, income, expenses, and recent transactions, with fallback mock data for unauthenticated users.", "scope": "", "scopeKind": ""}, {"name": "export async function getCashFlowData() { getCashFlowData", "description": "Returns mock data representing cash flow over several months, intended for future aggregation implementation.", "scope": "", "scopeKind": ""}], "calls": ["createServerClient()", "supabase.auth.getUser()", "supabase.from('transactions').select('*')", "console.error()", "console.warn()"], "search-terms": ["dashboardService", "getDashboardStats", "getCashFlowData", "Transaction", "supabase", "server-client"], "state": 2, "file_id": 62, "knowledge_revision": 219, "git_revision": "b1c89ec9d9c2167aef8929f48d92e34f442aaaf3", "ctags": [{"_type": "tag", "name": "cashBalance", "path": "/home/kavia/workspace/code-generation/kirana-fintech/src/lib/services/dashboardService.ts", "pattern": "/^    const cashBalance = profit;$/", "language": "TypeScript", "kind": "constant", "scope": "getDashboardStats", "scopeKind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/kirana-fintech/src/lib/services/dashboardService.ts", "pattern": "/^    const { data: transactions, error } = await supabase$/", "language": "TypeScript", "kind": "constant", "scope": "getDashboardStats", "scopeKind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/kirana-fintech/src/lib/services/dashboardService.ts", "pattern": "/^    const { data: { user } } = await supabase.auth.getUser();$/", "language": "TypeScript", "kind": "constant", "scope": "getDashboardStats", "scopeKind": "function"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/kirana-fintech/src/lib/services/dashboardService.ts", "pattern": "/^    const { data: transactions, error } = await supabase$/", "language": "TypeScript", "kind": "constant", "scope": "getDashboardStats", "scopeKind": "function"}, {"_type": "tag", "name": "expenses", "path": "/home/kavia/workspace/code-generation/kirana-fintech/src/lib/services/dashboardService.ts", "pattern": "/^    const expenses = txs$/", "language": "TypeScript", "kind": "constant", "scope": "getDashboardStats", "scopeKind": "function"}, {"_type": "tag", "name": "expenses", "path": "/home/kavia/workspace/code-generation/kirana-fintech/src/lib/services/dashboardService.ts", "pattern": "/^    const profit = income - expenses;$/", "language": "TypeScript", "kind": "constant", "scope": "getDashboardStats", "scopeKind": "function"}, {"_type": "tag", "name": "getCashFlowData", "path": "/home/kavia/workspace/code-generation/kirana-fintech/src/lib/services/dashboardService.ts", "pattern": "/^export async function getCashFlowData() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getDashboardStats", "path": "/home/kavia/workspace/code-generation/kirana-fintech/src/lib/services/dashboardService.ts", "pattern": "/^export async function getDashboardStats() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "income", "path": "/home/kavia/workspace/code-generation/kirana-fintech/src/lib/services/dashboardService.ts", "pattern": "/^    const income = txs$/", "language": "TypeScript", "kind": "constant", "scope": "getDashboardStats", "scopeKind": "function"}, {"_type": "tag", "name": "profit", "path": "/home/kavia/workspace/code-generation/kirana-fintech/src/lib/services/dashboardService.ts", "pattern": "/^    const profit = income - expenses;$/", "language": "TypeScript", "kind": "constant", "scope": "getDashboardStats", "scopeKind": "function"}, {"_type": "tag", "name": "supabase", "path": "/home/kavia/workspace/code-generation/kirana-fintech/src/lib/services/dashboardService.ts", "pattern": "/^    const supabase = await createServerClient();$/", "language": "TypeScript", "kind": "constant", "scope": "getDashboardStats", "scopeKind": "function"}, {"_type": "tag", "name": "txs", "path": "/home/kavia/workspace/code-generation/kirana-fintech/src/lib/services/dashboardService.ts", "pattern": "/^    const txs = transactions as Transaction[];$/", "language": "TypeScript", "kind": "constant", "scope": "getDashboardStats", "scopeKind": "function"}], "hash": "d779400552fbe13b2839162b4f766bb8", "format-version": 4, "code-base-name": "kirana-fintech", "filename": "src/lib/services/dashboardService.ts", "revision_history": [{"219": "b1c89ec9d9c2167aef8929f48d92e34f442aaaf3"}]}